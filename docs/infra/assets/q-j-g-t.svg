<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 1370.91796875 1003.5" style="max-width: 1370.91796875px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg-1756728481990-r5gmxr7kv"><style>#mermaid-svg-1756728481990-r5gmxr7kv{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#cccccc;}#mermaid-svg-1756728481990-r5gmxr7kv .error-icon{fill:#5a1d1d;}#mermaid-svg-1756728481990-r5gmxr7kv .error-text{fill:#f85149;stroke:#f85149;}#mermaid-svg-1756728481990-r5gmxr7kv .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-1756728481990-r5gmxr7kv .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-1756728481990-r5gmxr7kv .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-1756728481990-r5gmxr7kv .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-1756728481990-r5gmxr7kv .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-1756728481990-r5gmxr7kv .marker{fill:#cccccc;stroke:#cccccc;}#mermaid-svg-1756728481990-r5gmxr7kv .marker.cross{stroke:#cccccc;}#mermaid-svg-1756728481990-r5gmxr7kv svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-1756728481990-r5gmxr7kv .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#cccccc;}#mermaid-svg-1756728481990-r5gmxr7kv .cluster-label text{fill:#cccccc;}#mermaid-svg-1756728481990-r5gmxr7kv .cluster-label span,#mermaid-svg-1756728481990-r5gmxr7kv p{color:#cccccc;}#mermaid-svg-1756728481990-r5gmxr7kv .label text,#mermaid-svg-1756728481990-r5gmxr7kv span,#mermaid-svg-1756728481990-r5gmxr7kv p{fill:#cccccc;color:#cccccc;}#mermaid-svg-1756728481990-r5gmxr7kv .node rect,#mermaid-svg-1756728481990-r5gmxr7kv .node circle,#mermaid-svg-1756728481990-r5gmxr7kv .node ellipse,#mermaid-svg-1756728481990-r5gmxr7kv .node polygon,#mermaid-svg-1756728481990-r5gmxr7kv .node path{fill:#1f1f1f;stroke:#3c3c3c;stroke-width:1px;}#mermaid-svg-1756728481990-r5gmxr7kv .flowchart-label text{text-anchor:middle;}#mermaid-svg-1756728481990-r5gmxr7kv .node .label{text-align:center;}#mermaid-svg-1756728481990-r5gmxr7kv .node.clickable{cursor:pointer;}#mermaid-svg-1756728481990-r5gmxr7kv .arrowheadPath{fill:#e0e0e0;}#mermaid-svg-1756728481990-r5gmxr7kv .edgePath .path{stroke:#cccccc;stroke-width:2.0px;}#mermaid-svg-1756728481990-r5gmxr7kv .flowchart-link{stroke:#cccccc;fill:none;}#mermaid-svg-1756728481990-r5gmxr7kv .edgeLabel{background-color:#1f1f1f99;text-align:center;}#mermaid-svg-1756728481990-r5gmxr7kv .edgeLabel rect{opacity:0.5;background-color:#1f1f1f99;fill:#1f1f1f99;}#mermaid-svg-1756728481990-r5gmxr7kv .labelBkg{background-color:rgba(31, 31, 31, 0.5);}#mermaid-svg-1756728481990-r5gmxr7kv .cluster rect{fill:#3a3d41;stroke:#313131;stroke-width:1px;}#mermaid-svg-1756728481990-r5gmxr7kv .cluster text{fill:#cccccc;}#mermaid-svg-1756728481990-r5gmxr7kv .cluster span,#mermaid-svg-1756728481990-r5gmxr7kv p{color:#cccccc;}#mermaid-svg-1756728481990-r5gmxr7kv div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#616161;border:1px solid #0078d4;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-1756728481990-r5gmxr7kv .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#cccccc;}#mermaid-svg-1756728481990-r5gmxr7kv :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1756728481990-r5gmxr7kv_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1756728481990-r5gmxr7kv_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1756728481990-r5gmxr7kv_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1756728481990-r5gmxr7kv_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"><g id="历史记录管理" class="cluster default flowchart-label"><rect height="312.5" width="213" y="675" x="0" ry="0" rx="0" style=""/><g transform="translate(58.5, 675)" class="cluster-label"><foreignObject height="22.5" width="96"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">历史记录管理</span></div></foreignObject></g></g><g id="工具过滤机制" class="cluster default flowchart-label"><rect height="337.5" width="245" y="537.5" x="1109.91796875" ry="0" rx="0" style=""/><g transform="translate(1184.41796875, 537.5)" class="cluster-label"><foreignObject height="22.5" width="96"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">工具过滤机制</span></div></foreignObject></g></g><g id="Guidelines枝剪策略" class="cluster default flowchart-label"><rect height="312.5" width="328.5234375" y="312.5" x="761.39453125" ry="0" rx="0" style=""/><g transform="translate(856.16015625, 312.5)" class="cluster-label"><foreignObject height="22.5" width="138.9921875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Guidelines枝剪策略</span></div></foreignObject></g></g><g id="Journey匹配机制" class="cluster default flowchart-label"><rect height="287.5" width="197" y="200" x="544.39453125" ry="0" rx="0" style=""/><g transform="translate(582.62890625, 200)" class="cluster-label"><foreignObject height="22.5" width="120.53125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Journey匹配机制</span></div></foreignObject></g></g><g id="上下文工程管理流程" class="cluster default flowchart-label"><rect height="762.5" width="291.39453125" y="0" x="233" ry="0" rx="0" style=""/><g transform="translate(306.697265625, 0)" class="cluster-label"><foreignObject height="22.5" width="144"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">上下文工程管理流程</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-B" id="L-A-B-0" d="M391.658,62.5L391.658,66.667C391.658,70.833,391.658,79.167,391.658,86.617C391.658,94.067,391.658,100.633,391.658,103.917L391.658,107.2"/><path marker-end="url(#mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-C" id="L-B-C-0" d="M387.372,150L386.42,154.167C385.468,158.333,383.563,166.667,382.611,175C381.658,183.333,381.658,191.667,381.658,199.117C381.658,206.567,381.658,213.133,381.658,216.417L381.658,219.7"/><path marker-end="url(#mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-D" id="L-C-D-0" d="M377.372,262.5L376.42,266.667C375.468,270.833,373.563,279.167,372.611,287.5C371.658,295.833,371.658,304.167,371.658,311.617C371.658,319.067,371.658,325.633,371.658,328.917L371.658,332.2"/><path marker-end="url(#mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-E" id="L-D-E-0" d="M371.658,375L371.658,379.167C371.658,383.333,371.658,391.667,371.658,399.117C371.658,406.567,371.658,413.133,371.658,416.417L371.658,419.7"/><path marker-end="url(#mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-F" id="L-E-F-0" d="M363.063,462.5L361.153,466.667C359.243,470.833,355.423,479.167,353.513,487.5C351.604,495.833,351.604,504.167,351.604,512.5C351.604,520.833,351.604,529.167,351.604,536.617C351.604,544.067,351.604,550.633,351.604,553.917L351.604,557.2"/><path marker-end="url(#mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-G" id="L-F-G-0" d="M364.124,600L366.907,604.167C369.689,608.333,375.254,616.667,378.036,625C380.818,633.333,380.818,641.667,380.818,650C380.818,658.333,380.818,666.667,380.818,674.117C380.818,681.567,380.818,688.133,380.818,691.417L380.818,694.7"/><path marker-end="url(#mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-B1" id="L-B-B1-0" d="M417.095,150L422.748,154.167C428.401,158.333,439.706,166.667,445.359,175C451.012,183.333,451.012,191.667,472.881,200.82C494.75,209.973,538.489,219.945,560.358,224.931L582.227,229.918"/><path marker-end="url(#mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B1 LE-B2" id="L-B1-B2-0" d="M642.895,262.5L642.895,266.667C642.895,270.833,642.895,279.167,642.895,287.5C642.895,295.833,642.895,304.167,642.895,311.617C642.895,319.067,642.895,325.633,642.895,328.917L642.895,332.2"/><path marker-end="url(#mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B2 LE-B3" id="L-B2-B3-0" d="M642.895,375L642.895,379.167C642.895,383.333,642.895,391.667,642.895,399.117C642.895,406.567,642.895,413.133,642.895,416.417L642.895,419.7"/><path marker-end="url(#mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-C1" id="L-C-C1-0" d="M407.095,262.5L412.748,266.667C418.401,270.833,429.706,279.167,435.359,287.5C441.012,295.833,441.012,304.167,499.362,313.601C557.713,323.035,674.415,333.57,732.765,338.837L791.116,344.105"/><path marker-end="url(#mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C1 LE-C2" id="L-C1-C2-0" d="M925.656,375L925.656,379.167C925.656,383.333,925.656,391.667,925.656,399.117C925.656,406.567,925.656,413.133,925.656,416.417L925.656,419.7"/><path marker-end="url(#mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C2 LE-C3" id="L-C2-C3-0" d="M925.656,462.5L925.656,466.667C925.656,470.833,925.656,479.167,925.656,487.5C925.656,495.833,925.656,504.167,925.656,512.5C925.656,520.833,925.656,529.167,925.656,536.617C925.656,544.067,925.656,550.633,925.656,553.917L925.656,557.2"/><path marker-end="url(#mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-E1" id="L-E-E1-0" d="M397.095,462.5L402.748,466.667C408.401,470.833,419.706,479.167,425.359,487.5C431.012,495.833,431.012,504.167,431.012,512.5C431.012,520.833,431.012,529.167,549.114,539.781C667.216,550.395,903.421,563.29,1021.523,569.737L1139.626,576.184"/><path marker-end="url(#mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E1 LE-E2" id="L-E1-E2-0" d="M1232.418,600L1232.418,604.167C1232.418,608.333,1232.418,616.667,1232.418,625C1232.418,633.333,1232.418,641.667,1232.418,650C1232.418,658.333,1232.418,666.667,1232.418,674.117C1232.418,681.567,1232.418,688.133,1232.418,691.417L1232.418,694.7"/><path marker-end="url(#mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E2 LE-E3" id="L-E2-E3-0" d="M1232.418,737.5L1232.418,741.667C1232.418,745.833,1232.418,754.167,1232.418,762.5C1232.418,770.833,1232.418,779.167,1232.418,786.617C1232.418,794.067,1232.418,800.633,1232.418,803.917L1232.418,807.2"/><path marker-end="url(#mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-F1" id="L-F-F1-0" d="M334.782,600L331.044,604.167C327.306,608.333,319.83,616.667,316.092,625C312.354,633.333,312.354,641.667,312.354,650C312.354,658.333,312.354,666.667,290.825,675.409C269.297,684.151,226.241,693.302,204.712,697.877L183.184,702.452"/><path marker-end="url(#mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F1 LE-F2" id="L-F1-F2-0" d="M106.5,737.5L106.5,741.667C106.5,745.833,106.5,754.167,106.5,762.5C106.5,770.833,106.5,779.167,106.5,786.617C106.5,794.067,106.5,800.633,106.5,803.917L106.5,807.2"/><path marker-end="url(#mermaid-svg-1756728481990-r5gmxr7kv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F2 LE-F3" id="L-F2-F3-0" d="M106.5,850L106.5,854.167C106.5,858.333,106.5,866.667,106.5,875C106.5,883.333,106.5,891.667,106.5,899.117C106.5,906.567,106.5,913.133,106.5,916.417L106.5,919.7"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(106.5, 718.75)" id="flowchart-F1-1718" class="node default default flowchart-label"><rect height="37.5" width="143" y="-18.75" x="-71.5" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-64, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="128"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">完整保留交互历史</span></div></foreignObject></g></g><g transform="translate(106.5, 831.25)" id="flowchart-F2-1720" class="node default default flowchart-label"><rect height="37.5" width="111" y="-18.75" x="-55.5" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-48, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="96"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">适配事件格式</span></div></foreignObject></g></g><g transform="translate(106.5, 943.75)" id="flowchart-F3-1722" class="node default default flowchart-label"><rect height="37.5" width="127" y="-18.75" x="-63.5" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-56, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="112"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">添加上下文提示</span></div></foreignObject></g></g><g transform="translate(1232.41796875, 581.25)" id="flowchart-E1-1712" class="node default default flowchart-label"><rect height="37.5" width="175" y="-18.75" x="-87.5" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-80, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="160"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">基于语义查询工具能力</span></div></foreignObject></g></g><g transform="translate(1232.41796875, 718.75)" id="flowchart-E2-1714" class="node default default flowchart-label"><rect height="37.5" width="167.390625" y="-18.75" x="-83.6953125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-76.1953125, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="152.390625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">最多保留3个相关工具</span></div></foreignObject></g></g><g transform="translate(1232.41796875, 831.25)" id="flowchart-E3-1716" class="node default default flowchart-label"><rect height="37.5" width="159" y="-18.75" x="-79.5" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-72, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="144"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">工具参数验证和过滤</span></div></foreignObject></g></g><g transform="translate(925.65625, 356.25)" id="flowchart-C1-1706" class="node default default flowchart-label"><rect height="37.5" width="258.5234375" y="-18.75" x="-129.26171875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-121.76171875, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="243.5234375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">保留高概率Journey相关Guidelines</span></div></foreignObject></g></g><g transform="translate(925.65625, 443.75)" id="flowchart-C2-1708" class="node default default flowchart-label"><rect height="37.5" width="153.9921875" y="-18.75" x="-76.99609375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-69.49609375, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="138.9921875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">保留全局Guidelines</span></div></foreignObject></g></g><g transform="translate(925.65625, 581.25)" id="flowchart-C3-1710" class="node default default flowchart-label"><rect height="37.5" width="127" y="-18.75" x="-63.5" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-56, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="112"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">动态调整优先级</span></div></foreignObject></g></g><g transform="translate(642.89453125, 243.75)" id="flowchart-B1-1700" class="node default default flowchart-label"><rect height="37.5" width="111" y="-18.75" x="-55.5" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-48, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="96"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">构建优化查询</span></div></foreignObject></g></g><g transform="translate(642.89453125, 356.25)" id="flowchart-B2-1702" class="node default default flowchart-label"><rect height="37.5" width="127" y="-18.75" x="-63.5" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-56, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="112"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">语义相似度检索</span></div></foreignObject></g></g><g transform="translate(642.89453125, 443.75)" id="flowchart-B3-1704" class="node default default flowchart-label"><rect height="37.5" width="127" y="-18.75" x="-63.5" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-56, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="112"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">连续性优先排序</span></div></foreignObject></g></g><g transform="translate(391.658203125, 131.25)" id="flowchart-B-1688" class="node default default flowchart-label"><rect height="37.5" width="183.53125" y="-18.75" x="-91.765625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-84.265625, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="168.53125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">语义相关性匹配Journey</span></div></foreignObject></g></g><g transform="translate(391.658203125, 43.75)" id="flowchart-A-1687" class="node default default flowchart-label"><rect height="37.5" width="79" y="-18.75" x="-39.5" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-32, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="64"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">用户输入</span></div></foreignObject></g></g><g transform="translate(381.658203125, 243.75)" id="flowchart-C-1690" class="node default default flowchart-label"><rect height="37.5" width="207.4140625" y="-18.75" x="-103.70703125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-96.20703125, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="192.4140625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">基于Journey进行Top-K枝剪</span></div></foreignObject></g></g><g transform="translate(371.658203125, 356.25)" id="flowchart-D-1692" class="node default default flowchart-label"><rect height="37.5" width="153.9921875" y="-18.75" x="-76.99609375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-69.49609375, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="138.9921875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">过滤相关Guidelines</span></div></foreignObject></g></g><g transform="translate(371.658203125, 443.75)" id="flowchart-E-1694" class="node default default flowchart-label"><rect height="37.5" width="207.21875" y="-18.75" x="-103.609375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-96.109375, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="192.21875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">加载相关Capabilities/Tools</span></div></foreignObject></g></g><g transform="translate(351.603515625, 581.25)" id="flowchart-F-1696" class="node default default flowchart-label"><rect height="37.5" width="127" y="-18.75" x="-63.5" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-56, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="112"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">构建精简上下文</span></div></foreignObject></g></g><g transform="translate(380.818359375, 718.75)" id="flowchart-G-1698" class="node default default flowchart-label"><rect height="37.5" width="90.5546875" y="-18.75" x="-45.27734375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-37.77734375, -11.25)" style="" class="label"><rect/><foreignObject height="22.5" width="75.5546875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">传递给LLM</span></div></foreignObject></g></g></g></g></g></svg>